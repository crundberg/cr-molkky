{"version":3,"sources":["hooks/usePlayers/utils.js","store/player/types.js","store/player/reducer.js","store/player/actions.js","store/player/index.js","store/reducers.js","store/index.jsx","hooks/usePlayers/index.js","store/bindActions.js","components/start/start.jsx","components/players/players.jsx","components/bootstrap/dropdownItem.jsx","components/bootstrap/dropdownDivider.jsx","components/bootstrap/dropdown.jsx","components/game/scoreTable/header/header.jsx","components/game/scoreTable/row/row.jsx","components/game/scoreTable/table.jsx","components/game/points/points.jsx","components/game/game.jsx","components/settings/settings.jsx","components/app/app.jsx","serviceWorker.js","index.jsx"],"names":["isPlayerLeft","player","currentPoints","disqualified","ADD","DELETE","initialState","players","addPointsReducer","state","action","map","_index","array","name","payload","newPlayer","points","push","reduce","score","newScore","calcPlayerScore","length","handicap","slice","every","point","calcPlayerDisqualified","finishedPos","filter","x","handleAdd","type","PLAYER","handleDelete","handleAddPoint","handleNewGame","handleRematch","handleShuffle","reducer","PLAYER_TYPE","misses","a","Math","random","sort","b","actions","playerReducer","version","process","mainReducer","currentState","GlobalStore","createContext","Provider","children","useReducer","localData","localStorage","getItem","localJson","JSON","parse","dispatch","useEffect","setItem","stringify","value","storeReducer","usePlayers","useContext","playerActions","bindAction","bindDispatch","Error","boundActions","Object","entries","forEach","key","bindActions","playersLeft","currentRound","rounds","getCurrentRound","newRound","isNewRound","roundColumns","columns","roundToShow","round","getRoundColumns","playersTurn","turn","turnLength","playerLength","getPlayersTurn","playersByScore","getPlayersByScore","Start","className","to","onClick","Players","useState","setName","setHandicap","startOrder","setStartOrder","history","useHistory","handicapClass","classNames","disableAdd","e","preventDefault","onSubmit","id","aria-label","onChange","target","disabled","role","DropdownItem","href","defaultProps","divider","Dropdown","text","buttonStyle","menuStyle","isVisible","setVisible","node","useRef","handleClick","current","contains","document","addEventListener","removeEventListener","buttonClassName","menuClassName","show","ref","visible","data-testid","Item","Divider","DropdownDivider","GameScoreTableHeader","scoreColStyle","width","scoreSumColStyle","scope","style","GameScoreTableRow","finished","rowClass","roundPoints","undefined","GameScoreTable","sortScore","GamePoints","setPoints","pointButtonText","Array","_e","i","testId","Game","window","confirm","Settings","App","exact","path","component","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.96790474.chunk.js","sourcesContent":["export const isPlayerLeft = (player) =>\n\tplayer.currentPoints !== 50 && !player.disqualified;\n\nexport const getCurrentRound = (players) => {\n\treturn players.reduce((rounds, player) => {\n\t\tif (player.points.length > rounds) return player.points.length;\n\n\t\treturn rounds;\n\t}, 0);\n};\n\nexport const isNewRound = (players, currentRound) => {\n\treturn players.filter(isPlayerLeft).every((player) => {\n\t\treturn player.points.length === currentRound;\n\t});\n};\n\nexport const getRoundColumns = (currentRound, newRound) => {\n\tif (currentRound < 4) {\n\t\treturn [1, 2, 3, 4];\n\t}\n\n\tconst columns = [];\n\tconst roundToShow = newRound ? currentRound + 1 : currentRound;\n\n\tfor (let round = roundToShow - 3; round <= roundToShow; round += 1) {\n\t\tcolumns.push(round);\n\t}\n\n\treturn columns;\n};\n\nexport const getPlayersTurn = (players) => {\n\treturn players.filter(isPlayerLeft).reduce((turn, player) => {\n\t\tif (!turn.points) return player;\n\n\t\tconst turnLength = turn.points.length;\n\t\tconst playerLength = player.points.length;\n\n\t\tif (turnLength > playerLength) return player;\n\t\tif (turnLength < playerLength) return turn;\n\t\tif (player.currentPoints < turn.currentPoints) return player;\n\n\t\treturn turn;\n\t}, {});\n};\n\nexport const getPlayersByScore = (players, newRound) => {\n\treturn players.sort((a, b) => {\n\t\tif (!newRound) return 0; // Sort after a complete round\n\n\t\tif (!a.disqualified && b.disqualified) return -1;\n\t\tif (a.disqualified && !b.disqualified) return 1;\n\t\tif (a.currentPoints > b.currentPoints) return -1;\n\t\tif (a.currentPoints < b.currentPoints) return 1;\n\n\t\treturn 0;\n\t});\n};\n\nexport const calcPlayerScore = (player) => {\n\treturn player.points.reduce((score, points) => {\n\t\tconst newScore = score + points;\n\t\treturn newScore > 50 ? 25 : newScore;\n\t}, 0);\n};\n\nexport const calcPlayerDisqualified = (player) => {\n\tif (player.points.length < 3 || player.handicap) return false;\n\n\treturn player.points.slice(-3).every((point) => {\n\t\treturn point === 0;\n\t});\n};\n","export const ADD = 'ADD_PLAYER';\nexport const DELETE = 'DELETE_PLAYER';\nexport const ADD_POINT = 'ADD_POINT';\nexport const UNDO_POINT = 'UNDO_POINT';\nexport const NEW_GAME = 'NEW_GAME';\nexport const REMATCH = 'REMATCH';\nexport const SHUFFLE = 'SHUFFLE';\n","import {\n\tcalcPlayerScore,\n\tcalcPlayerDisqualified,\n} from 'hooks/usePlayers/utils';\n\nimport * as PLAYER_TYPE from './types';\n\nexport const initialState = {\n\tplayers: [],\n};\n\nexport const addPointsReducer = (state, action) => {\n\treturn state.players.map((player, _index, array) => {\n\t\tif (player.name === action.payload.name) {\n\t\t\tconst newPlayer = player;\n\t\t\tnewPlayer.points.push(action.payload.points);\n\t\t\tnewPlayer.currentPoints = calcPlayerScore(newPlayer);\n\t\t\tnewPlayer.disqualified = calcPlayerDisqualified(newPlayer);\n\n\t\t\tif (newPlayer.currentPoints === 50 && newPlayer.finishedPos === 0) {\n\t\t\t\tnewPlayer.finishedPos =\n\t\t\t\t\tarray.filter((x) => x.finishedPos > 0).length + 1;\n\t\t\t}\n\n\t\t\treturn newPlayer;\n\t\t}\n\n\t\treturn player;\n\t});\n};\n\nexport default function players(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase PLAYER_TYPE.ADD:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayers: [...state.players, action.payload],\n\t\t\t};\n\t\tcase PLAYER_TYPE.DELETE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayers: state.players.filter(\n\t\t\t\t\t(player) => player.name !== action.payload.name\n\t\t\t\t),\n\t\t\t};\n\t\tcase PLAYER_TYPE.ADD_POINT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayers: addPointsReducer(state, action),\n\t\t\t};\n\t\tcase PLAYER_TYPE.NEW_GAME:\n\t\t\treturn initialState;\n\t\tcase PLAYER_TYPE.REMATCH:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayers: state.players.map((player) => {\n\t\t\t\t\tconst newPlayer = player;\n\t\t\t\t\tnewPlayer.points = [];\n\t\t\t\t\tnewPlayer.currentPoints = 0;\n\t\t\t\t\tnewPlayer.misses = 0;\n\t\t\t\t\tnewPlayer.disqualified = false;\n\t\t\t\t\tnewPlayer.finishedPos = 0;\n\n\t\t\t\t\treturn newPlayer;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase PLAYER_TYPE.SHUFFLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayers: state.players\n\t\t\t\t\t.map((a) => [Math.random(), a])\n\t\t\t\t\t.sort((a, b) => a[0] - b[0])\n\t\t\t\t\t.map((a) => a[1]),\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import * as PLAYER from './types';\n\nexport function handleAdd(name, handicap) {\n\treturn {\n\t\ttype: PLAYER.ADD,\n\t\tpayload: {\n\t\t\tname,\n\t\t\thandicap,\n\t\t\tpoints: [],\n\t\t\tcurrentPoints: 0,\n\t\t\tdisqualified: false,\n\t\t\tfinishedPos: 0,\n\t\t},\n\t};\n}\n\nexport function handleDelete(name) {\n\treturn {\n\t\ttype: PLAYER.DELETE,\n\t\tpayload: {\n\t\t\tname,\n\t\t},\n\t};\n}\n\nexport function handleAddPoint(name, points) {\n\treturn {\n\t\ttype: PLAYER.ADD_POINT,\n\t\tpayload: {\n\t\t\tname,\n\t\t\tpoints,\n\t\t},\n\t};\n}\n\nexport function handleNewGame() {\n\treturn {\n\t\ttype: PLAYER.NEW_GAME,\n\t};\n}\n\nexport function handleRematch() {\n\treturn {\n\t\ttype: PLAYER.REMATCH,\n\t};\n}\n\nexport function handleShuffle() {\n\treturn {\n\t\ttype: PLAYER.SHUFFLE,\n\t};\n}\n","import reducer, { initialState } from './reducer';\nimport * as actions from './actions';\n\nexport default { reducer, initialState, actions };\n","import playerReducer from './player';\n\nimport { logger } from './middlewares';\n\nexport const initialState = {\n\tplayers: playerReducer.initialState,\n\tversion: process.env.REACT_APP_VERSION,\n};\n\nexport default function mainReducer(state, action) {\n\t// Receiving previous state here\n\tconst { players } = state;\n\n\t// Receiving current state here\n\tconst currentState = {\n\t\tplayers: playerReducer.reducer(players, action),\n\t\tversion: process.env.REACT_APP_VERSION,\n\t};\n\n\t// Middlewares\n\tlogger(action, state, currentState);\n\n\treturn currentState;\n}\n","import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport mainReducer, { initialState } from './reducers';\n\nconst GlobalStore = createContext({});\n\nexport const useGlobalStore = () => useContext(GlobalStore);\n\nexport default function Provider({ children }) {\n\tconst [state, dispatch] = useReducer(mainReducer, initialState, () => {\n\t\tconst localData = localStorage.getItem('data');\n\n\t\tif (!localData) return initialState;\n\n\t\tconst localJson = JSON.parse(localData);\n\n\t\treturn process.env.REACT_APP_VERSION === localJson.version\n\t\t\t? localJson\n\t\t\t: initialState;\n\t});\n\n\tuseEffect(() => {\n\t\tlocalStorage.setItem('data', JSON.stringify(state));\n\t}, [state]);\n\n\treturn (\n\t\t<GlobalStore.Provider value={{ state, dispatch }}>\n\t\t\t{children}\n\t\t</GlobalStore.Provider>\n\t);\n}\n\nProvider.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n};\n","import { useGlobalStore } from 'store';\nimport bindActions from 'store/bindActions';\nimport storeReducer from 'store/player';\nimport {\n\tisPlayerLeft,\n\tgetCurrentRound,\n\tisNewRound,\n\tgetRoundColumns,\n\tgetPlayersTurn,\n\tgetPlayersByScore,\n} from './utils';\n\nconst { actions } = storeReducer;\n\nconst usePlayers = () => {\n\tconst { state, dispatch } = useGlobalStore();\n\n\t// List of Props\n\tconst { players } = state.players;\n\n\t// List of Actions\n\tconst {\n\t\thandleAdd,\n\t\thandleDelete,\n\t\thandleAddPoint,\n\t\thandleNewGame,\n\t\thandleRematch,\n\t\thandleShuffle,\n\t} = actions;\n\n\t// Bind Actions\n\tconst playerActions = bindActions(\n\t\t{\n\t\t\thandleAdd,\n\t\t\thandleDelete,\n\t\t\thandleAddPoint,\n\t\t\thandleNewGame,\n\t\t\thandleRematch,\n\t\t\thandleShuffle,\n\t\t},\n\t\tdispatch\n\t);\n\n\tconst playersLeft = players.filter(isPlayerLeft);\n\tconst currentRound = getCurrentRound(players);\n\tconst newRound = isNewRound(players, currentRound);\n\tconst roundColumns = getRoundColumns(currentRound, newRound);\n\tconst playersTurn = getPlayersTurn(players);\n\tconst playersByScore = getPlayersByScore(players, newRound);\n\n\treturn {\n\t\tplayers,\n\t\tplayersLeft,\n\t\tplayersTurn,\n\t\tplayersByScore,\n\t\tcurrentRound,\n\t\tnewRound,\n\t\troundColumns,\n\t\t...playerActions,\n\t};\n};\n\nexport default usePlayers;\n","export default function bindActions(actions, dispatch) {\n\tconst bindAction = (action, bindDispatch) => {\n\t\treturn (...args) => {\n\t\t\treturn bindDispatch(action(...args));\n\t\t};\n\t};\n\n\t// if it's a single action\n\tif (typeof actions === 'function') {\n\t\treturn bindAction(actions, dispatch);\n\t}\n\tif (typeof actions !== 'object' || actions === null) {\n\t\tthrow new Error(\n\t\t\t`bindActions expected an object or a function, instead received ${\n\t\t\t\tactions === null ? 'null' : typeof actions\n\t\t\t}. `\n\t\t);\n\t}\n\tconst boundActions = {};\n\tObject.entries(actions).forEach(([key, action]) => {\n\t\tif (typeof action === 'function') {\n\t\t\tboundActions[key] = bindAction(action, dispatch);\n\t\t}\n\t});\n\n\treturn boundActions;\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { usePlayers } from 'hooks';\n\nfunction Start() {\n\tconst version = `v${process.env.REACT_APP_VERSION}`;\n\tconst { handleNewGame } = usePlayers();\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"card\">\n\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\tCR Mölkky\n\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto=\"players\"\n\t\t\t\t\t\t\tonClick={() => handleNewGame()}\n\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-sm mr-1\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStart game\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t<p className=\"card-text\">{version}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Start;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { usePlayers } from 'hooks';\n\nfunction Players() {\n\tconst [name, setName] = useState('');\n\tconst [handicap, setHandicap] = useState(false);\n\tconst [startOrder, setStartOrder] = useState('shuffle');\n\tconst history = useHistory();\n\tconst { players, handleAdd, handleDelete, handleShuffle } = usePlayers();\n\n\tconst onSubmit = (e) => {\n\t\te.preventDefault();\n\t\thandleAdd(name, handicap);\n\n\t\tsetName('');\n\t\tsetHandicap(false);\n\t};\n\n\tconst onStartGame = (e) => {\n\t\te.preventDefault();\n\n\t\tswitch (startOrder) {\n\t\t\tcase 'shuffle':\n\t\t\t\thandleShuffle();\n\t\t\t\tbreak;\n\t\t\tcase 'list':\n\t\t\tdefault:\n\t\t}\n\n\t\thistory.push('/game');\n\t};\n\n\tconst handicapClass = classNames('btn', {\n\t\t'btn-outline-secondary': !handicap,\n\t\t'btn-secondary': handicap,\n\t});\n\n\tconst disableAdd =\n\t\tname.length === 0 ||\n\t\tplayers.filter((player) => player.name === name).length !== 0;\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"card\">\n\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\tAdd players\n\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-sm\"\n\t\t\t\t\t\t\tonClick={onStartGame}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStart game\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t\t\t<div className=\"input-group mb-3\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"player\"\n\t\t\t\t\t\t\t\taria-label=\"player\"\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div className=\"input-group-append\" id=\"button-addon3\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={handicapClass}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => setHandicap(!handicap)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tHandicap\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tdisabled={disableAdd}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t+\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<ul className=\"list-group mb-3\">\n\t\t\t\t\t\t{players.map((player) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tclassName=\"list-group-item d-flex justify-content-between align-items-center\"\n\t\t\t\t\t\t\t\t\tkey={player.name}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{player.name}\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-link\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(player.name)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{player.handicap && (\n\t\t\t\t\t\t\t\t\t\t<span className=\"badge badge-primary badge-pill\">\n\t\t\t\t\t\t\t\t\t\t\tHandicap\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<h6 className=\"card-title\">Start order</h6>\n\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Start order\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\tstartOrder === 'shuffle'\n\t\t\t\t\t\t\t\t\t? 'btn btn-primary'\n\t\t\t\t\t\t\t\t\t: 'btn btn-outline-secondary'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={() => setStartOrder('shuffle')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tShuffle\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\tstartOrder === 'list'\n\t\t\t\t\t\t\t\t\t? 'btn btn-primary'\n\t\t\t\t\t\t\t\t\t: 'btn btn-outline-secondary'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={() => setStartOrder('list')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tList\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Players;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nfunction DropdownItem({ children, href, onClick }) {\n\tif (href) {\n\t\treturn (\n\t\t\t<Link to={href} className=\"dropdown-item\">\n\t\t\t\t{children}\n\t\t\t</Link>\n\t\t);\n\t}\n\n\treturn (\n\t\t<button className=\"dropdown-item\" type=\"button\" onClick={onClick}>\n\t\t\t{children}\n\t\t</button>\n\t);\n}\n\nDropdownItem.propTypes = {\n\thref: PropTypes.string,\n\tchildren: PropTypes.string,\n\tonClick: PropTypes.func,\n};\n\nDropdownItem.defaultProps = {\n\thref: '',\n\tchildren: '',\n\tonClick: () => null,\n};\n\nexport default DropdownItem;\n","import React from 'react';\n\nfunction divider() {\n\treturn <div className=\"dropdown-divider\" />;\n}\n\nexport default divider;\n","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport DropdownItem from './dropdownItem';\nimport DropdownDivider from './dropdownDivider';\n\nfunction Dropdown({ children, text, buttonStyle, menuStyle }) {\n\tconst [isVisible, setVisible] = useState(false);\n\tconst node = useRef();\n\n\tconst handleToggle = () => setVisible((visible) => !visible);\n\tconst handleClick = (e) => {\n\t\tif (!node.current.contains(e.target)) setVisible(false);\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('mousedown', handleClick);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('mousedown', handleClick);\n\t\t};\n\t}, []);\n\n\tconst buttonClassName = classNames(\n\t\t'btn btn-secondary dropdown-toggle',\n\t\tbuttonStyle\n\t);\n\n\tconst menuClassName = classNames('dropdown-menu', menuStyle, {\n\t\tshow: isVisible,\n\t});\n\n\treturn (\n\t\t<div className=\"dropdown\" ref={node}>\n\t\t\t<button className={buttonClassName} onClick={handleToggle} type=\"button\">\n\t\t\t\t{text}\n\t\t\t</button>\n\t\t\t<div className={menuClassName} data-testid=\"dropdown-menu\">\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nDropdown.propTypes = {\n\ttext: PropTypes.string.isRequired,\n\tchildren: PropTypes.node.isRequired,\n\tbuttonStyle: PropTypes.string,\n\tmenuStyle: PropTypes.string,\n};\n\nDropdown.defaultProps = {\n\tbuttonStyle: '',\n\tmenuStyle: '',\n};\n\nDropdown.Item = DropdownItem;\nDropdown.Divider = DropdownDivider;\n\nexport default Dropdown;\n","import React from 'react';\nimport { usePlayers } from 'hooks';\nimport '../../game.css';\n\nfunction GameScoreTableHeader() {\n\tconst { roundColumns } = usePlayers();\n\tconst scoreColStyle = { width: `${12}%` };\n\tconst scoreSumColStyle = { width: `${15}%` };\n\n\treturn (\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th scope=\"col\">Name</th>\n\t\t\t\t{roundColumns.map((round) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<th scope=\"col\" style={scoreColStyle} key={round}>\n\t\t\t\t\t\t\t{round}\n\t\t\t\t\t\t</th>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t<th scope=\"col\" style={scoreSumColStyle}>\n\t\t\t\t\tSum\n\t\t\t\t</th>\n\t\t\t</tr>\n\t\t</thead>\n\t);\n}\n\nexport default GameScoreTableHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { usePlayers } from 'hooks';\nimport classNames from 'classnames';\n\nfunction GameScoreTableRow({ player }) {\n\tconst { playersTurn, roundColumns } = usePlayers();\n\tconst { name, currentPoints, disqualified, handicap, points } = player;\n\n\tconst finished = currentPoints === 50 || disqualified;\n\n\tconst rowClass = classNames({\n\t\t'table-primary': name === playersTurn.name,\n\t\t'table-disqualified': disqualified,\n\t\t'table-warning': currentPoints === 50,\n\t});\n\n\treturn (\n\t\t<tr key={name} className={rowClass}>\n\t\t\t<th scope=\"row\">\n\t\t\t\t{name}\n\t\t\t\t{handicap && <span className=\"badge badge-warning\">HCP</span>}\n\t\t\t</th>\n\t\t\t{roundColumns.map((round) => {\n\t\t\t\tconst roundPoints = points[round - 1];\n\n\t\t\t\treturn (\n\t\t\t\t\t<td key={round}>\n\t\t\t\t\t\t{roundPoints > 0 && roundPoints}\n\t\t\t\t\t\t{roundPoints === 0 && handicap && '0'}\n\t\t\t\t\t\t{roundPoints === 0 && !handicap && (\n\t\t\t\t\t\t\t<span className=\"badge badge-danger\">X</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{roundPoints === undefined && finished && '-'}\n\t\t\t\t\t</td>\n\t\t\t\t);\n\t\t\t})}\n\t\t\t<td>{currentPoints}</td>\n\t\t</tr>\n\t);\n}\n\nGameScoreTableRow.propTypes = {\n\tplayer: PropTypes.shape({\n\t\tname: PropTypes.string,\n\t\tcurrentPoints: PropTypes.number,\n\t\tdisqualified: PropTypes.bool,\n\t\thandicap: PropTypes.bool,\n\t\tpoints: PropTypes.arrayOf(PropTypes.number),\n\t}).isRequired,\n};\n\nexport default GameScoreTableRow;\n","import React from 'react';\nimport { usePlayers } from 'hooks';\nimport { GameScoreTableHeader } from './header';\nimport { GameScoreTableRow } from './row';\n\nfunction GameScoreTable() {\n\tconst { players, sortScore } = usePlayers();\n\n\treturn (\n\t\t<table className=\"table\">\n\t\t\t<GameScoreTableHeader />\n\t\t\t<tbody>\n\t\t\t\t{players.sort(sortScore).map((player) => (\n\t\t\t\t\t<GameScoreTableRow player={player} key={player.name} />\n\t\t\t\t))}\n\t\t\t</tbody>\n\t\t</table>\n\t);\n}\n\nexport default GameScoreTable;\n","import React, { useState } from 'react';\nimport { usePlayers } from 'hooks';\nimport classNames from 'classnames';\nimport '../game.css';\n\nfunction GamePoints() {\n\tconst [points, setPoints] = useState(-1);\n\tconst { playersTurn, handleAddPoint } = usePlayers();\n\n\tconst handlePointEvent = () => {\n\t\thandleAddPoint(playersTurn.name, points);\n\t\tsetPoints(-1);\n\t};\n\n\tconst pointButton = (_e, i) => {\n\t\tconst className = classNames('btn btn-lg mr-1 mb-1', {\n\t\t\t'btn-primary': points === i,\n\t\t\t'btn-outline-primary': points !== i,\n\t\t});\n\n\t\tconst testId = `btnPoint${i}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName={className}\n\t\t\t\tonClick={() => setPoints(i)}\n\t\t\t\tkey={i}\n\t\t\t\tdata-testid={testId}\n\t\t\t>\n\t\t\t\t{i}\n\t\t\t</button>\n\t\t);\n\t};\n\n\tconst pointButtonText = points > 0 ? `OK (+${points})` : 'Missed';\n\n\treturn playersTurn.name ? (\n\t\t<div className=\"card-body\">\n\t\t\t<div className=\"points\">\n\t\t\t\t<h5 className=\"card-title\">\n\t\t\t\t\t{playersTurn.name}\n\t\t\t\t\t&apos;s turn\n\t\t\t\t</h5>\n\n\t\t\t\t<div className=\"mb-3\">{[...Array(13)].map(pointButton)}</div>\n\n\t\t\t\t<p>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\t\tonClick={() => handlePointEvent()}\n\t\t\t\t\t\tdisabled={points < 0}\n\t\t\t\t\t\tdata-testid=\"btnAdd\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{pointButtonText}\n\t\t\t\t\t</button>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t) : null;\n}\n\nexport default GamePoints;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { usePlayers } from 'hooks';\nimport { Dropdown } from 'components/bootstrap';\nimport { GameScoreTable } from './scoreTable';\nimport { GamePoints } from './points';\nimport './game.css';\n\nfunction Game() {\n\tconst { players, handleNewGame, handleRematch } = usePlayers();\n\n\tif (players.length === 0) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\n\tconst handleNewGameClick = () => {\n\t\tif (window.confirm('Are you sure you want to start a new game?'))\n\t\t\thandleNewGame();\n\t};\n\n\tconst handleRematchClick = () => {\n\t\tif (window.confirm('Are you sure you want to restart the game?'))\n\t\t\thandleRematch();\n\t};\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"card\">\n\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\tCR Mölkky\n\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\ttext=\"Menu\"\n\t\t\t\t\t\t\tbuttonStyle=\"btn-sm\"\n\t\t\t\t\t\t\tmenuStyle=\"dropdown-menu-right\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Dropdown.Item onClick={handleNewGameClick}>\n\t\t\t\t\t\t\t\tNew game\n\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t<Dropdown.Item onClick={handleRematchClick}>\n\t\t\t\t\t\t\t\tRestart game\n\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t<Dropdown.Divider />\n\t\t\t\t\t\t\t<Dropdown.Item href=\"/settings\">Settings</Dropdown.Item>\n\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<GameScoreTable />\n\t\t\t\t<GamePoints />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Game;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Settings() {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"card\">\n\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\tCR Mölkky\n\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t<Link to=\"/game\" className=\"btn btn-primary btn-sm\">\n\t\t\t\t\t\t\tGame\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t<p className=\"card-text\">Settings...</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Settings;\n","import React from 'react';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Start } from 'components/start';\nimport { Players } from 'components/players';\nimport { Game } from 'components/game';\nimport { Settings } from 'components/settings';\nimport Provider from 'store';\nimport './app.css';\n\nfunction App() {\n\treturn (\n\t\t<Router>\n\t\t\t<Provider>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\" component={Start} />\n\t\t\t\t\t<Route exact path=\"/players\" component={Players} />\n\t\t\t\t\t<Route exact path=\"/game\" component={Game} />\n\t\t\t\t\t<Route exact path=\"/settings\" component={Settings} />\n\t\t\t\t</Switch>\n\t\t\t</Provider>\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { App } from 'components/app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}